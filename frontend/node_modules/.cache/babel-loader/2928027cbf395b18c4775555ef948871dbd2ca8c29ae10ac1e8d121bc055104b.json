{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Desktop\\\\LMS\\\\Veritas-Campus-Learning-Management-System\\\\frontend\\\\src\\\\pages\\\\student\\\\AssignmentSubmission.js\",\n  _s = $RefreshSig$();\n/* import React, { useState} from \"react\";\r\nimport \"./AssignmentSubmission.css\";\r\n\r\nconst AssignmentSubmission = () => {\r\n  // Admin-defined (static) open and due dates\r\n  const openDate = new Date(\"2025-04-05T00:00:00\");\r\n  const dueDate = new Date(\"2025-05-12T00:00:00\");\r\n\r\n  const [file, setFile] = useState(null);\r\n  const [submittedAt, setSubmittedAt] = useState(null);\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (file) {\r\n      setSubmittedAt(new Date());\r\n    }\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setFile(null);\r\n    setSubmittedAt(null);\r\n  };\r\n\r\n  const getTimeRemainingText = () => {\r\n    const now = submittedAt ? submittedAt : new Date();\r\n    const diffMs = dueDate - now;\r\n\r\n    const absDiff = Math.abs(diffMs);\r\n    const diffDays = Math.floor(absDiff / (1000 * 60 * 60 * 24));\r\n    const diffHours = Math.floor((absDiff / (1000 * 60 * 60)) % 24);\r\n\r\n    if (!submittedAt) {\r\n      return `${diffMs >= 0 ? \"\" : \"Overdue by \"}${diffDays} days and ${diffHours} hours`;\r\n    }\r\n\r\n    if (submittedAt < dueDate) {\r\n      return `Submitted ${diffDays} days and ${diffHours} hours early`;\r\n    } else {\r\n      return `Overdue by ${diffDays} days and ${diffHours} hours`;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"assignment-page\">\r\n      <div className=\"assignment-container\">\r\n        <h4 className=\"assignment-title\">Principles of Management</h4>\r\n\r\n        <div>\r\n          <h5 className=\"assignment-subheading\">Assignment 01</h5>\r\n          <p className=\"assignment-dates\">Opened: {openDate.toLocaleString()}</p>\r\n          <p className=\"assignment-dates\">Due: {dueDate.toLocaleString()}</p>\r\n\r\n          {!submittedAt && (\r\n            <button className=\"mark-as-done-btn\">Mark as done</button>\r\n          )}\r\n\r\n          <table className=\"status-table\">\r\n            <thead>\r\n              <tr>\r\n                <th colSpan=\"2\">Submission Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>Submission Status</td>\r\n                <td>{submittedAt ? \"Submitted\" : \"No attempt\"}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Grading Status</td>\r\n                <td>{submittedAt ? \"Not Graded\" : \"-\"}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Time Remaining</td>\r\n                <td>{getTimeRemainingText()}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Last Modified</td>\r\n                <td>{submittedAt ? submittedAt.toLocaleString() : \"-\"}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Submission Comments</td>\r\n                <td>{submittedAt ? \"Submitted successfully.\" : \"No comments\"}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <div className=\"submission-actions\">\r\n            {!submittedAt ? (\r\n              <>\r\n                <input\r\n                  type=\"file\"\r\n                  onChange={handleFileChange}\r\n                  className=\"file-input\"\r\n                  accept=\".pdf,.doc,.docx\"\r\n                />\r\n                <button className=\"submit-btn\" onClick={handleSubmit} disabled={!file}>\r\n                  Submit Assignment\r\n                </button>\r\n                <p>You have not made a submission yet</p>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <p className=\"uploaded-file\">Uploaded: {file.name}</p>\r\n                <button className=\"edit-btn\" onClick={handleEdit}>\r\n                  Edit Submission\r\n                </button>\r\n              </>\r\n            )}\r\n            <button className=\"back-btn\">Back To Course</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AssignmentSubmission; */\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./AssignmentSubmission.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AssignmentSubmission = () => {\n  _s();\n  const studentId = \"12345\"; // Replace with dynamic student ID\n  const assignmentId = \"A1\"; // Replace with actual assignment ID\n\n  const [assignmentData, setAssignmentData] = useState(null);\n  const [file, setFile] = useState(null);\n  const [submittedAt, setSubmittedAt] = useState(null);\n  const [submissionId, setSubmissionId] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  // Fetch assignment submission status on load\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await axios.get(`http://localhost:5000/api/student/assignments/${studentId}/${assignmentId}`);\n        if (res.data) {\n          setAssignmentData(res.data);\n          setSubmittedAt(new Date(res.data.submittedAt));\n          setSubmissionId(res.data._id);\n        }\n      } catch (err) {\n        console.log(\"No previous submission found\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  const openDate = new Date(\"2025-04-05T00:00:00\");\n  const dueDate = new Date(\"2025-05-12T00:00:00\");\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n  };\n  const handleSubmit = async () => {\n    if (!file) return;\n    const formData = new FormData();\n    formData.append(\"studentId\", studentId);\n    formData.append(\"assignmentId\", assignmentId);\n    formData.append(\"title\", \"Assignment 01\");\n    formData.append(\"file\", file);\n    try {\n      const res = await axios.post(\"http://localhost:5000/api/student/assignments/submit\", formData);\n      setSubmittedAt(new Date(res.data.submittedAt));\n      setSubmissionId(res.data._id);\n      alert(\"Assignment submitted successfully!\");\n    } catch (err) {\n      alert(\"Error submitting assignment\");\n      console.error(err);\n    }\n  };\n  const handleEdit = async () => {\n    if (!file || !submissionId) return;\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    try {\n      const res = await axios.put(`http://localhost:5000/api/student/assignments/edit/${submissionId}`, formData);\n      setSubmittedAt(new Date(res.data.submittedAt));\n      alert(\"Submission updated!\");\n    } catch (err) {\n      alert(\"Failed to update submission\");\n      console.error(err);\n    }\n  };\n  const getTimeRemainingText = () => {\n    const now = submittedAt || new Date();\n    const diffMs = dueDate - now;\n    const absDiff = Math.abs(diffMs);\n    const diffDays = Math.floor(absDiff / (1000 * 60 * 60 * 24));\n    const diffHours = Math.floor(absDiff / (1000 * 60 * 60) % 24);\n    if (!submittedAt) {\n      return `${diffMs >= 0 ? \"\" : \"Overdue by \"}${diffDays} days and ${diffHours} hours`;\n    }\n    return submittedAt < dueDate ? `Submitted ${diffDays} days and ${diffHours} hours early` : `Overdue by ${diffDays} days and ${diffHours} hours`;\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"assignment-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"assignment-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"assignment-title\",\n        children: \"Principles of Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"assignment-subheading\",\n          children: \"Assignment 01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"assignment-dates\",\n          children: [\"Opened: \", openDate.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"assignment-dates\",\n          children: [\"Due: \", dueDate.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), !submittedAt && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mark-as-done-btn\",\n          children: \"Mark as done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"status-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"th\", {\n                colSpan: \"2\",\n                children: \"Submission Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Submission Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: submittedAt ? \"Submitted\" : \"No attempt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Grading Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: submittedAt ? \"Not Graded\" : \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Time Remaining\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: getTimeRemainingText()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Last Modified\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: submittedAt ? submittedAt.toLocaleString() : \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Submission Comments\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: submittedAt ? \"Submitted successfully.\" : \"No comments\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"submission-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: handleFileChange,\n            className: \"file-input\",\n            accept: \".pdf,.doc,.docx\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), !submittedAt ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"submit-btn\",\n              onClick: handleSubmit,\n              disabled: !file,\n              children: \"Submit Assignment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"You have not made a submission yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"uploaded-file\",\n              children: \"You may re-upload a file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"edit-btn\",\n              onClick: handleEdit,\n              disabled: !file,\n              children: \"Edit Submission\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-btn\",\n            children: \"Back To Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this);\n};\n_s(AssignmentSubmission, \"v0/RTAxILNk0fOkXwDosEndofEA=\");\n_c = AssignmentSubmission;\nexport default AssignmentSubmission;\nvar _c;\n$RefreshReg$(_c, \"AssignmentSubmission\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","AssignmentSubmission","_s","studentId","assignmentId","assignmentData","setAssignmentData","file","setFile","submittedAt","setSubmittedAt","submissionId","setSubmissionId","loading","setLoading","fetchData","res","get","data","Date","_id","err","console","log","openDate","dueDate","handleFileChange","e","target","files","handleSubmit","formData","FormData","append","post","alert","error","handleEdit","put","getTimeRemainingText","now","diffMs","absDiff","Math","abs","diffDays","floor","diffHours","children","fileName","_jsxFileName","lineNumber","columnNumber","className","toLocaleString","colSpan","type","onChange","accept","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Dell/Desktop/LMS/Veritas-Campus-Learning-Management-System/frontend/src/pages/student/AssignmentSubmission.js"],"sourcesContent":["/* import React, { useState} from \"react\";\r\nimport \"./AssignmentSubmission.css\";\r\n\r\nconst AssignmentSubmission = () => {\r\n  // Admin-defined (static) open and due dates\r\n  const openDate = new Date(\"2025-04-05T00:00:00\");\r\n  const dueDate = new Date(\"2025-05-12T00:00:00\");\r\n\r\n  const [file, setFile] = useState(null);\r\n  const [submittedAt, setSubmittedAt] = useState(null);\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (file) {\r\n      setSubmittedAt(new Date());\r\n    }\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setFile(null);\r\n    setSubmittedAt(null);\r\n  };\r\n\r\n  const getTimeRemainingText = () => {\r\n    const now = submittedAt ? submittedAt : new Date();\r\n    const diffMs = dueDate - now;\r\n\r\n    const absDiff = Math.abs(diffMs);\r\n    const diffDays = Math.floor(absDiff / (1000 * 60 * 60 * 24));\r\n    const diffHours = Math.floor((absDiff / (1000 * 60 * 60)) % 24);\r\n\r\n    if (!submittedAt) {\r\n      return `${diffMs >= 0 ? \"\" : \"Overdue by \"}${diffDays} days and ${diffHours} hours`;\r\n    }\r\n\r\n    if (submittedAt < dueDate) {\r\n      return `Submitted ${diffDays} days and ${diffHours} hours early`;\r\n    } else {\r\n      return `Overdue by ${diffDays} days and ${diffHours} hours`;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"assignment-page\">\r\n      <div className=\"assignment-container\">\r\n        <h4 className=\"assignment-title\">Principles of Management</h4>\r\n\r\n        <div>\r\n          <h5 className=\"assignment-subheading\">Assignment 01</h5>\r\n          <p className=\"assignment-dates\">Opened: {openDate.toLocaleString()}</p>\r\n          <p className=\"assignment-dates\">Due: {dueDate.toLocaleString()}</p>\r\n\r\n          {!submittedAt && (\r\n            <button className=\"mark-as-done-btn\">Mark as done</button>\r\n          )}\r\n\r\n          <table className=\"status-table\">\r\n            <thead>\r\n              <tr>\r\n                <th colSpan=\"2\">Submission Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>Submission Status</td>\r\n                <td>{submittedAt ? \"Submitted\" : \"No attempt\"}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Grading Status</td>\r\n                <td>{submittedAt ? \"Not Graded\" : \"-\"}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Time Remaining</td>\r\n                <td>{getTimeRemainingText()}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Last Modified</td>\r\n                <td>{submittedAt ? submittedAt.toLocaleString() : \"-\"}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Submission Comments</td>\r\n                <td>{submittedAt ? \"Submitted successfully.\" : \"No comments\"}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <div className=\"submission-actions\">\r\n            {!submittedAt ? (\r\n              <>\r\n                <input\r\n                  type=\"file\"\r\n                  onChange={handleFileChange}\r\n                  className=\"file-input\"\r\n                  accept=\".pdf,.doc,.docx\"\r\n                />\r\n                <button className=\"submit-btn\" onClick={handleSubmit} disabled={!file}>\r\n                  Submit Assignment\r\n                </button>\r\n                <p>You have not made a submission yet</p>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <p className=\"uploaded-file\">Uploaded: {file.name}</p>\r\n                <button className=\"edit-btn\" onClick={handleEdit}>\r\n                  Edit Submission\r\n                </button>\r\n              </>\r\n            )}\r\n            <button className=\"back-btn\">Back To Course</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AssignmentSubmission; */\r\n\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./AssignmentSubmission.css\";\r\n\r\nconst AssignmentSubmission = () => {\r\n  const studentId = \"12345\"; // Replace with dynamic student ID\r\n  const assignmentId = \"A1\"; // Replace with actual assignment ID\r\n\r\n  const [assignmentData, setAssignmentData] = useState(null);\r\n  const [file, setFile] = useState(null);\r\n  const [submittedAt, setSubmittedAt] = useState(null);\r\n  const [submissionId, setSubmissionId] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Fetch assignment submission status on load\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await axios.get(\r\n          `http://localhost:5000/api/student/assignments/${studentId}/${assignmentId}`\r\n        );\r\n        if (res.data) {\r\n          setAssignmentData(res.data);\r\n          setSubmittedAt(new Date(res.data.submittedAt));\r\n          setSubmissionId(res.data._id);\r\n        }\r\n      } catch (err) {\r\n        console.log(\"No previous submission found\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const openDate = new Date(\"2025-04-05T00:00:00\");\r\n  const dueDate = new Date(\"2025-05-12T00:00:00\");\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!file) return;\r\n    const formData = new FormData();\r\n    formData.append(\"studentId\", studentId);\r\n    formData.append(\"assignmentId\", assignmentId);\r\n    formData.append(\"title\", \"Assignment 01\");\r\n    formData.append(\"file\", file);\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        \"http://localhost:5000/api/student/assignments/submit\",\r\n        formData\r\n      );\r\n      setSubmittedAt(new Date(res.data.submittedAt));\r\n      setSubmissionId(res.data._id);\r\n      alert(\"Assignment submitted successfully!\");\r\n    } catch (err) {\r\n      alert(\"Error submitting assignment\");\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleEdit = async () => {\r\n    if (!file || !submissionId) return;\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    try {\r\n      const res = await axios.put(\r\n        `http://localhost:5000/api/student/assignments/edit/${submissionId}`,\r\n        formData\r\n      );\r\n      setSubmittedAt(new Date(res.data.submittedAt));\r\n      alert(\"Submission updated!\");\r\n    } catch (err) {\r\n      alert(\"Failed to update submission\");\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const getTimeRemainingText = () => {\r\n    const now = submittedAt || new Date();\r\n    const diffMs = dueDate - now;\r\n    const absDiff = Math.abs(diffMs);\r\n    const diffDays = Math.floor(absDiff / (1000 * 60 * 60 * 24));\r\n    const diffHours = Math.floor((absDiff / (1000 * 60 * 60)) % 24);\r\n\r\n    if (!submittedAt) {\r\n      return `${diffMs >= 0 ? \"\" : \"Overdue by \"}${diffDays} days and ${diffHours} hours`;\r\n    }\r\n\r\n    return submittedAt < dueDate\r\n      ? `Submitted ${diffDays} days and ${diffHours} hours early`\r\n      : `Overdue by ${diffDays} days and ${diffHours} hours`;\r\n  };\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <div className=\"assignment-page\">\r\n      <div className=\"assignment-container\">\r\n        <h4 className=\"assignment-title\">Principles of Management</h4>\r\n\r\n        <div>\r\n          <h5 className=\"assignment-subheading\">Assignment 01</h5>\r\n          <p className=\"assignment-dates\">Opened: {openDate.toLocaleString()}</p>\r\n          <p className=\"assignment-dates\">Due: {dueDate.toLocaleString()}</p>\r\n\r\n          {!submittedAt && (\r\n            <button className=\"mark-as-done-btn\">Mark as done</button>\r\n          )}\r\n\r\n          <table className=\"status-table\">\r\n            <thead>\r\n              <tr>\r\n                <th colSpan=\"2\">Submission Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>Submission Status</td>\r\n                <td>{submittedAt ? \"Submitted\" : \"No attempt\"}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Grading Status</td>\r\n                <td>{submittedAt ? \"Not Graded\" : \"-\"}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Time Remaining</td>\r\n                <td>{getTimeRemainingText()}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Last Modified</td>\r\n                <td>{submittedAt ? submittedAt.toLocaleString() : \"-\"}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Submission Comments</td>\r\n                <td>{submittedAt ? \"Submitted successfully.\" : \"No comments\"}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <div className=\"submission-actions\">\r\n            <input\r\n              type=\"file\"\r\n              onChange={handleFileChange}\r\n              className=\"file-input\"\r\n              accept=\".pdf,.doc,.docx\"\r\n            />\r\n            {!submittedAt ? (\r\n              <>\r\n                <button\r\n                  className=\"submit-btn\"\r\n                  onClick={handleSubmit}\r\n                  disabled={!file}\r\n                >\r\n                  Submit Assignment\r\n                </button>\r\n                <p>You have not made a submission yet</p>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <p className=\"uploaded-file\">You may re-upload a file</p>\r\n                <button\r\n                  className=\"edit-btn\"\r\n                  onClick={handleEdit}\r\n                  disabled={!file}\r\n                >\r\n                  Edit Submission\r\n                </button>\r\n              </>\r\n            )}\r\n            <button className=\"back-btn\">Back To Course</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AssignmentSubmission;\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEpC,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAMC,SAAS,GAAG,OAAO,CAAC,CAAC;EAC3B,MAAMC,YAAY,GAAG,IAAI,CAAC,CAAC;;EAE3B,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACc,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACgB,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;;EAE5C;E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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}